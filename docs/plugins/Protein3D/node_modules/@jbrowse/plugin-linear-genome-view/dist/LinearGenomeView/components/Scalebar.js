"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const material_1 = require("@mui/material");
const mui_1 = require("tss-react/mui");
const mobx_react_1 = require("mobx-react");
const react_1 = __importDefault(require("react"));
const ScalebarCoordinateLabels_1 = __importDefault(require("./ScalebarCoordinateLabels"));
const ScalebarRefNameLabels_1 = __importDefault(require("./ScalebarRefNameLabels"));
const useStyles = (0, mui_1.makeStyles)()({
    container: {
        overflow: 'hidden',
        position: 'relative',
    },
    zoomContainer: {
        position: 'relative',
        zIndex: 1,
    },
    scalebar: {
        position: 'absolute',
        display: 'flex',
        pointerEvents: 'none',
    },
});
const Scalebar = (0, mobx_react_1.observer)(react_1.default.forwardRef(function Scalebar2({ model, style, className, ...other }, ref) {
    const { classes, cx } = useStyles();
    const { staticBlocks, offsetPx, scaleFactor } = model;
    const offsetLeft = staticBlocks.offsetPx - offsetPx;
    return (react_1.default.createElement(material_1.Paper, { "data-resizer": "true" // used to avoid click-and-drag scrolls on trackscontainer
        , className: cx(classes.container, className), variant: "outlined", ref: ref, style: style, ...other },
        react_1.default.createElement("div", { className: classes.zoomContainer, style: {
                transform: scaleFactor !== 1 ? `scaleX(${scaleFactor})` : undefined,
            } },
            react_1.default.createElement("div", { className: classes.scalebar, style: {
                    left: offsetLeft - 1,
                    width: staticBlocks.totalWidthPx,
                    ...style,
                } },
                react_1.default.createElement(ScalebarCoordinateLabels_1.default, { model: model }))),
        react_1.default.createElement(ScalebarRefNameLabels_1.default, { model: model })));
}));
exports.default = Scalebar;
