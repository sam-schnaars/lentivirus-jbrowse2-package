"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const mobx_react_1 = require("mobx-react");
const util_1 = require("@jbrowse/core/util");
// locals
const RefNameAutocomplete_1 = __importDefault(require("./RefNameAutocomplete"));
const util_2 = require("./util");
const ImportFormRefNameAutocomplete = (0, mobx_react_1.observer)(function ({ model, selectedAsm, value, setValue, setOption, }) {
    const session = (0, util_1.getSession)(model);
    const { assemblyManager, textSearchManager } = session;
    const { rankSearchResults } = model;
    const searchScope = model.searchScope(selectedAsm);
    const assembly = assemblyManager.get(selectedAsm);
    return (react_1.default.createElement(RefNameAutocomplete_1.default, { fetchResults: queryString => (0, util_2.fetchResults)({
            queryString,
            assembly,
            textSearchManager,
            rankSearchResults,
            searchScope,
        }), model: model, assemblyName: selectedAsm, value: value, minWidth: 270, onChange: str => {
            setValue(str);
        }, onSelect: val => {
            setOption(val);
        }, TextFieldProps: {
            variant: 'outlined',
            helperText: 'Enter sequence name, feature name, or location',
        } }));
});
exports.default = ImportFormRefNameAutocomplete;
